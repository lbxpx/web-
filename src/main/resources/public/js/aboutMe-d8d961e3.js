/* empty css             *//* empty css                */import{_ as a}from"./UploadImage-675a8095.js";import{d as e,r as s,a as l,b as t,e as o,f as d,g as i,H as n,t as r,h as u,w as c,J as p,K as m,L as v,k as b,E as f,I as g,y,z as h,j as x,_ as w}from"./index-00623a6b.js";import{u as j,d as V,e as U}from"./users-f5a9a53f.js";const _=a=>(y("data-v-2d8c7fac"),a=a(),h(),a),C={class:"user-container"},I=_((()=>i("h2",{class:"title"},"个人资料",-1))),k=["contenteditable","textContent"],G={class:"user-content"},J={class:"avatar"},P=["src"],E=_((()=>i("span",{style:{color:"grey"}},[x("图片大小不超过2M"),i("br"),x("仅能上传 PNG JPEG JPG类型图片"),i("br"),x("建议上传200*200或300*300尺寸的图片 ")],-1))),M={class:"user-info"},z={class:"form-group"},H=_((()=>i("label",{for:"username"},"用户名:",-1))),K=["disabled"],L={class:"form-group"},N=_((()=>i("label",null,"性别:",-1))),O=["disabled"],T=[_((()=>i("option",{value:"male"},"男",-1))),_((()=>i("option",{value:"female"},"女",-1))),_((()=>i("option",{value:"other"},"其他",-1)))],q={class:"form-group"},A=_((()=>i("label",{for:"school"},"学校:",-1))),B=["disabled"],D={class:"right-info"},F={class:"form-group"},Q=_((()=>i("label",{for:"email"},"邮箱:",-1))),R=["disabled"],S={class:"form-group"},W=_((()=>i("label",{for:"password"},"密码:",-1))),X=["disabled"],Y={class:"button-group"},Z=w(e({__name:"aboutMe",setup(e){const y=j().userId,h=s(!1),x=s(!1),w=l({username:"",image:"",password:"",email:"",sex:"",description:"这是一个描述信息，您可以根据需要进行编辑。",school:""}),_=()=>{x.value=!x.value},Z=async()=>{await U(y,w).then((a=>{1===a.data.code&&f("用户信息更新成功:")})).catch((a=>{f.error(a)})),x.value=!1},$=a=>{const e=a.target;w.description=e.innerText},aa=a=>{w.image=a};return t((async()=>{try{const a=await V(y);Object.assign(w,{...a.data.data})}catch(a){}})),(e,s)=>{const l=a,t=g;return o(),d("div",C,[I,i("div",{class:n(["description",{editable:x.value}]),contenteditable:x.value,onInput:$,textContent:r(w.description)},null,42,k),i("div",G,[i("div",J,[i("img",{src:w.image,alt:"用户头像",onClick:s[0]||(s[0]=a=>!!x.value&&(h.value=!0))},null,8,P),u(t,{modelValue:h.value,"onUpdate:modelValue":s[1]||(s[1]=a=>h.value=a),title:"修改头像",width:"550"},{default:c((()=>[u(l,{onImageChange:aa,style:{"margin-right":"10px"}}),E])),_:1},8,["modelValue"])]),i("div",M,[i("div",z,[H,p(i("input",{"onUpdate:modelValue":s[2]||(s[2]=a=>w.username=a),type:"text",id:"username",disabled:!x.value},null,8,K),[[m,w.username]])]),i("div",L,[N,p(i("select",{"onUpdate:modelValue":s[3]||(s[3]=a=>w.sex=a),disabled:!x.value},T,8,O),[[v,w.sex]])]),i("div",q,[A,p(i("input",{"onUpdate:modelValue":s[4]||(s[4]=a=>w.school=a),type:"text",id:"school",disabled:!x.value},null,8,B),[[m,w.school]])])]),i("div",D,[i("div",F,[Q,p(i("input",{"onUpdate:modelValue":s[5]||(s[5]=a=>w.email=a),type:"email",id:"email",disabled:!x.value},null,8,R),[[m,w.email]])]),i("div",S,[W,p(i("input",{"onUpdate:modelValue":s[6]||(s[6]=a=>w.password=a),type:"password",id:"password",disabled:!x.value},null,8,X),[[m,w.password]])])])]),i("div",Y,[i("button",{type:"button",onClick:_,class:"btn"},r(x.value?"取消":"修改"),1),x.value?(o(),d("button",{key:0,type:"submit",onClick:Z,class:"btn primary"},"保存")):b("",!0)])])}}}),[["__scopeId","data-v-2d8c7fac"]]);export{Z as default};
