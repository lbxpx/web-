/* empty css             *//* empty css               *//* empty css               *//* empty css                  */import{d as a,r as s,R as e,e as t,O as n,w as l,h as o,j as r,g as u,J as c,K as d,S as i,t as p,u as m,A as f,E as _,M as g,T as h,U as j,V as v,W as w,X as y,Y as k,y as x,z as b,_ as C}from"./index-00623a6b.js";import{_ as K}from"./kon-c071413b.js";import{u as L}from"./users-f5a9a53f.js";const T=(a=>(x("data-v-e51677e8"),a=a(),b(),a))((()=>u("img",{src:K,class:"logo",alt:"交易平台"},null,-1))),U={class:"search-bar"},q=["onKeydown"],B={class:"el-dropdown-link"},O=["src"],R={class:"user"},V=C(a({__name:"CommonHeader",setup(a){const x=L(),b=s(x.image),C=s("");e((()=>x.image),(a=>{b.value=a}));const K=()=>{""!==C.value.trim()?f.push({name:"search",query:{q:C.value}}):_.error("请输入搜索词")},V=()=>{g.confirm("确认退出吗, 是否继续?","确认退出",{confirmButtonText:"退出",cancelButtonText:"取消",type:"warning"}).then((async()=>{await x.LogOut().then((a=>{1===a.code?f.push("/login"):_.error("退出失败")})).catch((a=>{_.error("退出失败："+a.message)}))}))},z=()=>{f.push({name:"profile"})};let A=1;const E={username:"john_doe",password:"123456"},G={username:"admin",password:"123456"},H=async()=>{try{const a=1===A?E:G;1===(await x.Login(a)).code&&(A=1===A?2:1,f.push("/index"))}catch(a){_.error("请求错误："+a.message)}};return(a,s)=>{const e=h,f=j,_=v,g=w,L=y,A=k;return t(),n(A,null,{default:l((()=>[o(L,{gutter:20},{default:l((()=>[o(e,{span:2,style:{"text-align":"right"}},{default:l((()=>[T])),_:1}),o(e,{span:4,class:"col1"},{default:l((()=>[r(" weGo ")])),_:1}),o(e,{span:12,class:"col1"},{default:l((()=>[u("div",U,[c(u("input",{type:"text",placeholder:"搜索...","onUpdate:modelValue":s[0]||(s[0]=a=>C.value=a),class:"search-input",onKeydown:i(K,["enter"])},null,40,q),[[d,C.value]]),u("button",{class:"search-button",onClick:K},"搜索")])])),_:1}),o(e,{span:4},{default:l((()=>[o(g,null,{dropdown:l((()=>[o(_,null,{default:l((()=>[o(f,{onClick:z},{default:l((()=>[r("个人中心")])),_:1}),o(f,{onClick:H},{default:l((()=>[r("切换账号")])),_:1}),o(f,{divided:"",onClick:V},{default:l((()=>[r("退出登录")])),_:1})])),_:1})])),default:l((()=>[u("span",B,[u("img",{class:"user",src:null===b.value||""===b.value?new URL("/jpg/0002-e2da02ca.jpg",self.location).href:b.value,alt:"头像"},null,8,O),u("span",R,p(m(x).username),1)])])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-e51677e8"]]);export{V as _};
